%%% This file contains definitions of various useful macros and environments %%%
%%% Please add more macros here instead of cluttering other files with them. %%%

%%% Minor tweaks of style

% These macros employ a little dirty trick to convince LaTeX to typeset
% chapter headings sanely, without lots of empty space above them.
% Feel free to ignore.
\makeatletter
\def\@makechapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries \thechapter. #1
   \par\nobreak
   \vskip 20\p@
}}
\def\@makeschapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries #1
   \par\nobreak
   \vskip 20\p@
}}
\makeatother

% This macro defines a chapter, which is not numbered, but is included
% in the table of contents.
\def\chapwithtoc#1{
\chapter*{#1}
\addcontentsline{toc}{chapter}{#1}
}

% Draw black "slugs" whenever a line overflows, so that we can spot it easily.
\overfullrule=1mm

%%% Macros for definitions, theorems, claims, examples, ... (requires amsthm package)

\theoremstyle{plain}
\newtheorem{thm}{Theorem}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{claim}[thm]{Claim}

\theoremstyle{plain}
\newtheorem{defn}{Definition}

\theoremstyle{remark}
\newtheorem*{cor}{Corollary}
\newtheorem*{rem}{Remark}
\newtheorem*{example}{Example}

%%% An environment for proofs

%%% FIXME %%% \newenvironment{proof}{
%%% FIXME %%%   \par\medskip\noindent
%%% FIXME %%%   \textit{Proof}.
%%% FIXME %%% }{
%%% FIXME %%% \newline
%%% FIXME %%% \rightline{$\square$}  % or \SquareCastShadowBottomRight from bbding package
%%% FIXME %%% }

%%% An environment for typesetting of program code and input/output
%%% of programs. (Requires the fancyvrb package -- fancy verbatim.)

\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small, frame=single}

%%% Useful operators for statistics and probability
\DeclareMathOperator{\pr}{\textsf{P}}
\DeclareMathOperator{\E}{\textsf{E}\,}
\DeclareMathOperator{\var}{\textrm{var}}
\DeclareMathOperator{\sd}{\textrm{sd}}

%%% Transposition of a vector/matrix
\newcommand{\T}[1]{#1^\top}

%%% Various math goodies
\newcommand{\goto}{\rightarrow}
\newcommand{\gotop}{\stackrel{P}{\longrightarrow}}
\newcommand{\maon}[1]{o(n^{#1})}
\newcommand{\abs}[1]{\left|{#1}\right|}
\newcommand{\dint}{\int_0^\tau\!\!\int_0^\tau}
\newcommand{\isqr}[1]{\frac{1}{\sqrt{#1}}}

%%% Various table goodies
\newcommand{\pulrad}[1]{\raisebox{1.5ex}[0pt]{#1}}
\newcommand{\mc}[1]{\multicolumn{1}{c}{#1}}

%% my macros
\newcommand{\um}{$\mu$m\ }
\newcommand{\unith}{km$\cdot$ s$^{-1}$ Mpc$^{-1}$}

\newcommand{\mins}{^{-1}}
\newcommand{\sq}{$^2$}

\newcommand{\eq}[1]{\begin{align}#1\end{align}}
\newcommand{\eqq}[1]{\begin{equation}\begin{aligned}#1\end{aligned}\end{equation}}
\newcommand{\seq}[1]{\begin{subequations}\eq{#1}\end{subequations}}
\newcommand{\mb}{\mathbf}


\newcommand{\dd}{\mbox{d}}  
\newcommand{\partpart}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\dddd}[2]{\frac{\dd #1}{\dd #2}}

\newcommand{\nbody}{\textit{N}-body simulation}
\newcommand{\ZA}{_\textsc{\tiny ZA}}
\newcommand{\FFA}{_\textsc{\tiny FFA}}
\newcommand{\FPA}{_\textsc{\tiny FPA}}
\newcommand{\eff}{_\text{\tiny eff}}
\newcommand{\lin}{_\text{\tiny lin}}
\newcommand{\vel}{_\text{\tiny vel}}

\newcommand{\LCDM}{$\Lambda$CDM}
\newcommand{\Mpl}{M_{\text{\scriptsize pl}}}
\newcommand{\mpl}{m_{\text{\scriptsize pl}}}
\newcommand{\dg}{\sqrt{-g}}
\newcommand{\dgt}{\sqrt{-\tilde{g}}}
\newcommand{\uv}{{\mu\nu}}
\newcommand{\R}{_{,R}}
\newcommand{\RR}{_{,RR}}
\newcommand{\tR}{{\tilde{R}}}
\newcommand{\fR}{$f(R)$}
\newcommand{\GB}{\mathcal{G}}
\newcommand{\Phiscr}{\Phi_{\text{\scriptsize scr}}}
\newcommand{\Phiscrz}{\Phi_{0,\text{\scriptsize scr}}}
\newcommand{\Phiscra}{\Phi_{a,\text{\scriptsize scr}}}
\newcommand{\hMpc}{h\text{Mpc}^{-1}}
\newcommand{\Mpch}{h^{-1}\text{Mpc}}

% redefine equation autoref
\def\equationautorefname~#1\null{%
  Eq.~(#1)\null
}
